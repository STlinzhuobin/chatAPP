{"version":3,"sources":["webpack:///E:/项目/HBuilderProjects/社区交友/main.js","webpack:///E:/项目/HBuilderProjects/社区交友/pages/news/news.vue?558c","webpack:///E:/项目/HBuilderProjects/社区交友/pages/news/news.vue?c771","webpack:///E:/项目/HBuilderProjects/社区交友/pages/news/news.vue?e7f7","webpack:///E:/项目/HBuilderProjects/社区交友/pages/news/news.vue?6f79","webpack:///E:/项目/HBuilderProjects/社区交友/pages/news/news.vue"],"names":["createPage","Page","components","uniNavBar","commonList","loadMore","hotCate","topicList","noThing","data","scrollH","tabIndex","tabBars","name","list","loadmore","page","swiperList","onLoad","uni","getSystemInfo","success","res","windowHeight","statusBarHeight","getTopicNav","getSwipers","getHotTopic","onShow","getList","methods","isrefresh","$H","get","token","notoast","then","map","v","$U","formatCommonList","length","catch","err","item","id","classname","cover","titlepic","title","desc","today_count","todaypost_count","news_count","post_count","openAddInput","navigateTo","url","changeTab","index","onChangeTab","e","detail","current","doSupport","msg","type","support","support_count","unsupport_count","showToast","loadmoreEvent","openSearch"],"mappings":"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","file":"pages/news/news.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/news/news.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./news.vue?vue&type=template&id=32f3197c&\"\nvar renderjs\nimport script from \"./news.vue?vue&type=script&lang=js&\"\nexport * from \"./news.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('32f3197c')) {\n      api.createRecord('32f3197c', component.options)\n    } else {\n      api.reload('32f3197c', component.options)\n    }\n    module.hot.accept(\"./news.vue?vue&type=template&id=32f3197c&\", function () {\n      api.rerender('32f3197c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/项目/HBuilderProjects/社区交友/pages/news/news.vue\"\nexport default component.exports","export * from \"-!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./news.vue?vue&type=template&id=32f3197c&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./news.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./news.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport uniNavBar from '@/components/uni-ui/uni-nav-bar/uni-nav-bar.vue';\nimport commonList from '@/components/common/common-list.vue';\nimport loadMore from '@/components/common/loadmore.vue';\nimport noThing from '@/components/common/no-thing.vue';\nimport hotCate from '@/components/news/hot-cate.vue';\nimport topicList from '@/components/news/topic-list.vue';\nexport default {\n\tcomponents: {\n\t\tuniNavBar,\n\t\tcommonList,\n\t\tloadMore,\n\t\thotCate,\n\t\ttopicList,\n\t\tnoThing\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tscrollH:500,\n\t\t\ttabIndex:0,\n\t\t\ttabBars:[{\n\t\t\t\tname:\"关注\"\n\t\t\t},{\n\t\t\t\tname:\"话题\"\n\t\t\t}],\n\t\t\t// 关注列表\n\t\t\tlist:[],\n\t\t\t// 1.上拉加载更多  2.加载中... 3.没有更多了\n\t\t\tloadmore:\"上拉加载更多\",\n\t\t\tpage:1,\n\t\t\thotCate:[],\n\t\t\t\n\t\t\ttopicList:[],\n\t\t\t\n\t\t\tswiperList:[]\n\t\t}\n\t},\n\tonLoad() {\n\t\tuni.getSystemInfo({\n\t\t\tsuccess:res=>{\n\t\t\t\tthis.scrollH = res.windowHeight - res.statusBarHeight - 44\n\t\t\t}\n\t\t})\n\t\t// 获取数据\n\t\tthis.getTopicNav()\n\t\tthis.getSwipers()\n\t\tthis.getHotTopic()\n\t},\n\tonShow() {\n\t\tthis.page = 1\n\t\tthis.getList()\n\t},\n\tmethods: {\n\t\t// 获取关注好友文章列表\n\t\tgetList(){\n\t\t\tlet isrefresh = this.page === 1\n\t\t\tthis.$H.get('/followpost/'+this.page,{},{\n\t\t\t\ttoken:true,\n\t\t\t\tnotoast:true\n\t\t\t}).then(res=>{\n\t\t\t\tlet list = res.list.map(v=>{\n\t\t\t\t\treturn this.$U.formatCommonList(v)\n\t\t\t\t})\n\t\t\t\tthis.list = isrefresh ? list : [...this.list,...list];\n\t\t\t\t\n\t\t\t\tthis.loadmore  = list.length < 10 ? '没有更多了' : '上拉加载更多';\n\t\t\t}).catch(err=>{\n\t\t\t\tif(!isrefresh){\n\t\t\t\t\tthis.page--;\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 获取热门分类\n\t\tgetTopicNav(){\n\t\t\tthis.$H.get('/topicclass').then(res=>{\n\t\t\t\tthis.hotCate = res.list.map(item=>{\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid:item.id,\n\t\t\t\t\t\tname:item.classname\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\t// 获取热门话题\n\t\tgetHotTopic(){\n\t\t\tthis.$H.get('/hottopic').then(res=>{\n\t\t\t\tthis.topicList = res.list.map(item=>{\n\t\t\t\t\treturn {\n\t\t\t\t\t\tid:item.id,\n\t\t\t\t\t\tcover:item.titlepic,\n\t\t\t\t\t\ttitle:item.title,\n\t\t\t\t\t\tdesc:item.desc,\n\t\t\t\t\t\ttoday_count:item.todaypost_count,\n\t\t\t\t\t\tnews_count:item.post_count\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\t// 获取轮播图\n\t\tgetSwipers(){\n\t\t\tthis.$H.get('/adsense/0').then(res=>{\n\t\t\t\tthis.swiperList = res.list\n\t\t\t})\n\t\t},\n\t\t// 打开发布页\n\t\topenAddInput(){\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../add-input/add-input',\n\t\t\t});\n\t\t},\n\t\t// 切换选项卡\n\t\tchangeTab(index){\n\t\t\tthis.tabIndex = index\n\t\t},\n\t\t// 滑动\n\t\tonChangeTab(e){\n\t\t\tthis.tabIndex = e.detail.current\n\t\t},\n\t\t// 顶踩操作\n\t\tdoSupport(e){\n\t\t\t// 拿到当前对象\n\t\t\tlet item = this.list[e.index]\n\t\t\tlet msg = e.type === 'support' ? '顶' : '踩'\n\t\t\t// 之前没有操作过\n\t\t\tif (item.support.type === '') {\n\t\t\t\titem.support[e.type+'_count']++\n\t\t\t} else if (item.support.type ==='support' && e.type === 'unsupport') {\n\t\t\t\t// 顶 - 1\n\t\t\t\titem.support.support_count--;\n\t\t\t\t// 踩 + 1\n\t\t\t\titem.support.unsupport_count++;\n\t\t\t} else if(item.support.type ==='unsupport' && e.type === 'support'){ \t\t\t\t\t// 之前踩了\n\t\t\t\t// 顶 + 1\n\t\t\t\titem.support.support_count++;\n\t\t\t\t// 踩 - 1\n\t\t\t\titem.support.unsupport_count--;\n\t\t\t}\n\t\t\titem.support.type = e.type\n\t\t\tuni.showToast({ title: msg + '成功' });\n\t\t},\n\t\t// 上拉加载\n\t\tloadmoreEvent(){\n\t\t\t// 验证当前是否处于可加载状态\n\t\t\tif (this.loadmore !== '上拉加载更多') return;\n\t\t\t// 设置加载状态\n\t\t\tthis.loadmore = '加载中...'\n\t\t\t// 请求数据\n\t\t\tthis.page++\n\t\t\tthis.getList()\n\t\t},\n\t\t// 打开搜索页\n\t\topenSearch(){\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../search/search?type=topic',\n\t\t\t});\n\t\t}\n\t}\n}\n"],"sourceRoot":""}