{"version":3,"sources":["webpack:///E:/项目/HBuilderProjects/社区交友/main.js","webpack:///E:/项目/HBuilderProjects/社区交友/pages/user-space/user-space.vue?bfe1","webpack:///E:/项目/HBuilderProjects/社区交友/pages/user-space/user-space.vue?aee1","webpack:///E:/项目/HBuilderProjects/社区交友/pages/user-space/user-space.vue?0512","webpack:///E:/项目/HBuilderProjects/社区交友/pages/user-space/user-space.vue?d1ee","webpack:///E:/项目/HBuilderProjects/社区交友/pages/user-space/user-space.vue"],"names":["createPage","Page","emotionArray","components","commonList","loadMore","uniPopup","data","user_id","userinfo","userpic","username","sex","age","isFollow","regtime","birthday","job","path","qg","counts","name","num","tabIndex","tabBars","list","loadmore","page","onNavigationBarButtonTap","user","id","uni","navigateTo","url","$refs","popup","open","computed","state","filters","formatNum","value","onLoad","e","showToast","title","icon","getUserInfo","getCounts","$on","type","follow","doSupport","count","forEach","tab","item","comment_count","onUnload","$off","methods","$H","get","then","res","post_count","withfollow_count","withfen_count","post","token","notoast","fens","length","isblack","blacklist","$T","dateFormat","Date","create_time","getHoroscope","setNavigationBarTitle","changeTab","index","getList","support","support_count","unsupport_count","msg","isrefresh","map","v","$U","formatCommonList","catch","err","doFollow","checkAuth","follow_id","$emit","openUserInfo","doBlack","showModal","content","success","confirm"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,2G;AACAA,UAAU,CAACC,kBAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAuH;AACvH;AAC8D;AACL;;;AAGzD;AAC0K;AAC1K,gBAAgB,mLAAU;AAC1B,EAAE,gFAAM;AACR,EAAE,qFAAM;AACR,EAAE,8FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,yFAAU;AACZ;AACA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACzCf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACzBA;AAAA;AAAA;AAAA;AAA6nB,CAAgB,kpBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACyFjpB;AACA,gD,oxCA1FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAMC,YAAY,GAAG,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,CAArB,C,mxB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","file":"pages/user-space/user-space.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/user-space/user-space.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./user-space.vue?vue&type=template&id=51a54c5c&\"\nvar renderjs\nimport script from \"./user-space.vue?vue&type=script&lang=js&\"\nexport * from \"./user-space.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('51a54c5c')) {\n      api.createRecord('51a54c5c', component.options)\n    } else {\n      api.reload('51a54c5c', component.options)\n    }\n    module.hot.accept(\"./user-space.vue?vue&type=template&id=51a54c5c&\", function () {\n      api.rerender('51a54c5c', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"E:/项目/HBuilderProjects/社区交友/pages/user-space/user-space.vue\"\nexport default component.exports","export * from \"-!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./user-space.vue?vue&type=template&id=51a54c5c&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.counts, function(item, index) {\n    var f0 = _vm._f(\"formatNum\")(item.num)\n\n    return {\n      $orig: _vm.__get_orig(item),\n      f0: f0\n    }\n  })\n\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./user-space.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\IDE\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./user-space.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nconst emotionArray = ['保密', '未婚', '已婚']\nimport commonList from '@/components/common/common-list.vue';\nimport loadMore from '@/components/common/loadmore.vue';\nimport uniPopup from '@/components/uni-ui/uni-popup/uni-popup.vue';\nimport $T from '@/common/time.js';\nimport { mapState } from 'vuex'\nexport default {\n\tcomponents: {\n\t\tcommonList,\n\t\tloadMore,\n\t\tuniPopup\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tuser_id:0,\n\t\t\tuserinfo:{\n\t\t\t\tuserpic:\"/static/default.jpg\",\n\t\t\t\tusername:\"\",\n\t\t\t\tsex:0,\n\t\t\t\tage:20,\n\t\t\t\tisFollow:false,\n\t\t\t\tregtime:\"\",\n\t\t\t\tbirthday:\"\",\n\t\t\t\tjob:\"\",\n\t\t\t\tpath:\"\",\n\t\t\t\tqg:\"\"\n\t\t\t},\n\t\t\tcounts:[{\n\t\t\t\tname:\"帖子\",\n\t\t\t\tnum:0\n\t\t\t},{\n\t\t\t\tname:\"关注\",\n\t\t\t\tnum:0\n\t\t\t},{\n\t\t\t\tname:\"粉丝\",\n\t\t\t\tnum:0\n\t\t\t}],\n\t\t\ttabIndex:0,\n\t\t\ttabBars:[{\n\t\t\t\tname:\"主页\",\n\t\t\t},{\n\t\t\t\tname:\"帖子\",\n\t\t\t\tlist:[],\n\t\t\t\t// 1.上拉加载更多  2.加载中... 3.没有更多了\n\t\t\t\tloadmore:\"上拉加载更多\",\n\t\t\t\tpage:1\n\t\t\t},{\n\t\t\t\tname:\"动态\",\n\t\t\t\tlist:[],\n\t\t\t\t// 1.上拉加载更多  2.加载中... 3.没有更多了\n\t\t\t\tloadmore:\"上拉加载更多\",\n\t\t\t\tpage:1\n\t\t\t}],\n\t\t}\n\t},\n\tonNavigationBarButtonTap() {\n\t\tif(this.user_id == this.user.id){\n\t\t\treturn uni.navigateTo({\n\t\t\t\turl: '../user-set/user-set',\n\t\t\t});\n\t\t}\n\t\tthis.$refs.popup.open()\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\tuser:state=>state.user\n\t\t}),\n\t\tlist() {\n\t\t\treturn this.tabBars[this.tabIndex].list \n\t\t},\n\t\tloadmore(){\n\t\t\treturn this.tabBars[this.tabIndex].loadmore\n\t\t}\n\t},\n\tfilters: {\n\t\tformatNum(value) {\n\t\t\treturn value > 99 ? '99+' : value;\n\t\t}\n\t},\n\tonLoad(e) {\n\t\tif(!e.user_id){\n\t\t\treturn uni.showToast({\n\t\t\t\ttitle: '非法参数',\n\t\t\t\ticon: 'none'\n\t\t\t});\n\t\t}\n\t\tthis.user_id = e.user_id\n\t\t// 加载用户个人信息\n\t\tthis.getUserInfo()\n\t\t// 获取用户相关数据\n\t\tthis.getCounts()\n\t\t// 监听关注和顶踩操作\n\t\tuni.$on('updateFollowOrSupport',(e)=>{\n\t\t\tswitch (e.type){\n\t\t\t\tcase 'follow': // 关注\n\t\t\t\tthis.follow(e.data.user_id)\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'support': // 顶踩\n\t\t\t\tthis.doSupport(e.data)\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t})\n\t\t// 监听评论数变化\n\t\tuni.$on('updateCommentsCount',({id,count})=>{\n\t\t\tthis.tabBars.forEach(tab=>{\n\t\t\t\tif(tab.list){\n\t\t\t\t\ttab.list.forEach((item)=>{\n\t\t\t\t\t\tif(item.id === id){\n\t\t\t\t\t\t\titem.comment_count = count\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t},\n\tonUnload() {\n\t\tuni.$off('updateFollowOrSupport',(e)=>{})\n\t\tuni.$off('updateCommentsCount',(e)=>{})\n\t},\n\tmethods: {\n\t\t// 获取用户相关数据\n\t\tgetCounts(){\n\t\t\tthis.$H.get('/user/getcounts/'+this.user_id).then(res=>{\n\t\t\t\tthis.counts[0].num = res.post_count\n\t\t\t\tthis.counts[1].num = res.withfollow_count\n\t\t\t\tthis.counts[2].num = res.withfen_count\n\t\t\t})\n\t\t},\n\t\t// 获取用户个人信息\n\t\tgetUserInfo(){\n\t\t\tthis.$H.post('/getuserinfo',{\n\t\t\t\tuser_id:this.user_id\n\t\t\t},{\n\t\t\t\ttoken:true,\n\t\t\t\tnotoast:true\n\t\t\t}).then(res=>{\n\t\t\t\tthis.userinfo = {\n\t\t\t\t\tuserpic:res.userpic,\n\t\t\t\t\tusername:res.username,\n\t\t\t\t\tsex:res.userinfo.sex,\n\t\t\t\t\tage:res.userinfo.age,\n\t\t\t\t\tisFollow:res.fens.length > 0,\n\t\t\t\t\tisblack:res.blacklist.length > 0,\n\t\t\t\t\tregtime:$T.dateFormat(new Date(res.create_time * 1000), '{Y}-{MM}-{DD}'),\n\t\t\t\t\tbirthday:$T.getHoroscope(res.userinfo.birthday),\n\t\t\t\t\tjob:res.userinfo.job ? res.userinfo.job : '无',\n\t\t\t\t\tpath:res.userinfo.path ? res.userinfo.path : '无',\n\t\t\t\t\tqg:emotionArray[res.userinfo.qg],\n\t\t\t\t}\n\t\t\t\tuni.setNavigationBarTitle({\n\t\t\t\t\ttitle:this.userinfo.username\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\tchangeTab(index){\n\t\t\tthis.tabIndex = index\n\t\t\tthis.getList()\n\t\t},\n\t\t// 关注\n\t\tfollow(user_id){\n\t\t\t// 找到当前作者的所有列表\n\t\t\tthis.tabBars.forEach(tab=>{\n\t\t\t\tif(tab.list){\n\t\t\t\t\ttab.list.forEach((item)=>{\n\t\t\t\t\t\tif(item.user_id === user_id){\n\t\t\t\t\t\t\titem.isFollow = true\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t\tuni.showToast({ title: '关注成功' })\n\t\t},\n\t\t// 顶踩操作\n\t\tdoSupport(e){\n\t\t\t// 拿到当前的选项卡对应的list\n\t\t\tthis.tabBars[this.tabIndex].list.forEach(item=>{\n\t\t\t\tif(item.id === e.id){\n\t\t\t\t\t// 之前没有操作过\n\t\t\t\t\tif (item.support.type === '') {\n\t\t\t\t\t\titem.support[e.type+'_count']++\n\t\t\t\t\t} else if (item.support.type ==='support' && e.type === 'unsupport') {\n\t\t\t\t\t\t// 顶 - 1\n\t\t\t\t\t\titem.support.support_count--;\n\t\t\t\t\t\t// 踩 + 1\n\t\t\t\t\t\titem.support.unsupport_count++;\n\t\t\t\t\t} else if(item.support.type ==='unsupport' && e.type === 'support'){ \t\t\t\t\t// 之前踩了\n\t\t\t\t\t\t// 顶 + 1\n\t\t\t\t\t\titem.support.support_count++;\n\t\t\t\t\t\t// 踩 - 1\n\t\t\t\t\t\titem.support.unsupport_count--;\n\t\t\t\t\t}\n\t\t\t\t\titem.support.type = e.type\n\t\t\t\t}\n\t\t\t})\n\t\t\tlet msg = e.type === 'support' ? '顶' : '踩'\n\t\t\tuni.showToast({ title: msg + '成功' });\n\t\t},\n\t\t// 获取文章列表\n\t\tgetList(){\n\t\t\tlet index = this.tabIndex\n\t\t\tif(index === 0) return;\n\t\t\tlet page = this.tabBars[index].page\n\t\t\tlet isrefresh = page === 1\n\t\t\tthis.$H.get('/user/'+this.user_id+'/post/'+page)\n\t\t\t.then(res=>{\n\t\t\t\tlet list = res.list.map(v=>{\n\t\t\t\t\treturn this.$U.formatCommonList(v)\n\t\t\t\t})\n\t\t\t\tthis.tabBars[index].list = isrefresh ? [...list] : [...this.tabBars[index].list,...list]\n\t\t\t\tthis.tabBars[index].loadmore = list.length < 10 ? '没有更多了' : '上拉加载更多'\n\t\t\t}).catch(err=>{\n\t\t\t\tif(!isrefresh){\n\t\t\t\t\tthis.tabBars[index].page--\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 关注/取消关注\n\t\tdoFollow(){\n\t\t\tthis.checkAuth(()=>{\n\t\t\t\tlet url = this.userinfo.isFollow ? '/unfollow' : '/follow'\n\t\t\t\tlet msg = this.userinfo.isFollow ? '取消关注' : '关注'\n\t\t\t\tthis.$H.post(url,{\n\t\t\t\t\tfollow_id:this.user_id\n\t\t\t\t},{\n\t\t\t\t\ttoken:true\n\t\t\t\t}).then(res=>{\n\t\t\t\t\tthis.userinfo.isFollow = !this.userinfo.isFollow\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: msg+'成功',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t});\n\t\t\t\t\tuni.$emit('updateIndex')\n\t\t\t\t\tthis.getList()\n\t\t\t\t})\n\t\t\t})\n\t\t},\n\t\t// 进入编辑资料\n\t\topenUserInfo(){\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../user-userinfo/user-userinfo',\n\t\t\t});\n\t\t},\n\t\t// 加入/移出黑名单\n\t\tdoBlack(){\n\t\t\tthis.checkAuth(()=>{\n\t\t\t\tlet url = this.userinfo.isblack ? '/removeblack':'/addblack'\n\t\t\t\tlet msg = this.userinfo.isblack ? '移出黑名单' : '加入黑名单'\n\t\t\t\tuni.showModal({\n\t\t\t\t\tcontent: '是否要'+msg,\n\t\t\t\t\tsuccess: (res)=> {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\tthis.$H.post(url,{\n\t\t\t\t\t\t\t\tid:this.user_id\n\t\t\t\t\t\t\t},{\n\t\t\t\t\t\t\t\ttoken:true\n\t\t\t\t\t\t\t}).then(res=>{\n\t\t\t\t\t\t\t\tthis.userinfo.isblack = !this.userinfo.isblack\n\t\t\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\t\t\ttitle: msg+'成功',\n\t\t\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\n\t\t\t})\n\t\t}\n\t}\n}\n"],"sourceRoot":""}